# æ•™ç»ƒåˆ—è¡¨æ’åºåŠŸèƒ½å®ç°æŠ¥å‘Š

## ğŸ“‹ **åŠŸèƒ½æ¦‚è¿°**
æ ¹æ®æ‚¨çš„è¦æ±‚ï¼Œæˆ‘å·²ç»ä¸ºæ•™ç»ƒåˆ—è¡¨æ·»åŠ äº†å®Œæ•´çš„æ’åºåŠŸèƒ½ï¼Œæ”¯æŒæŒ‰IDï¼ˆå‡åºï¼‰ã€å¹´é¾„ã€æ•™é¾„ç­‰å¤šä¸ªå­—æ®µè¿›è¡Œæ’åºã€‚

## âœ… **å®ç°çš„æ’åºå­—æ®µ**

### ğŸ¯ **æ”¯æŒçš„æ’åºå­—æ®µ**
| æ’åºå­—æ®µ | å­—æ®µå | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|----------|--------|------|--------|
| **ID** | `id` | æŒ‰æ•™ç»ƒIDæ’åº | `id` |
| **å¹´é¾„** | `age` | æŒ‰æ•™ç»ƒå¹´é¾„æ’åº | `age` |
| **æ•™é¾„** | `experience` | æŒ‰æ•™ç»ƒæ•™é¾„æ’åº | `experience` |
| **å…¥èŒæ—¥æœŸ** | `hiredate` æˆ– `hire_date` | æŒ‰å…¥èŒæ—¥æœŸæ’åº | `hiredate` |
| **å§“å** | `name` | æŒ‰æ•™ç»ƒå§“åæ’åº | `name` |
| **åˆ›å»ºæ—¶é—´** | `createdtime` æˆ– `created_time` | æŒ‰åˆ›å»ºæ—¶é—´æ’åº | `createdtime` |
| **æ›´æ–°æ—¶é—´** | `updatedtime` æˆ– `updated_time` | æŒ‰æ›´æ–°æ—¶é—´æ’åº | `updatedtime` |

### ğŸ”„ **æ’åºæ–¹å‘**
- **å‡åº**: `asc` (é»˜è®¤)
- **é™åº**: `desc`

## ğŸ”§ **æŠ€æœ¯å®ç°**

### 1. **æ’åºé€»è¾‘å®ç°**
**æ–‡ä»¶**: `src/main/java/com/lesson/model/SysCoachModel.java`

```java
/**
 * æ„å»ºæ’åºå­—æ®µ
 */
private SortField<?> buildSortField(String sortField, String sortOrder) {
    // é»˜è®¤æ’åºï¼šæŒ‰IDå‡åº
    SortField<?> defaultSort = SYS_COACH.ID.asc();
    
    if (sortField == null || sortField.isEmpty()) {
        return defaultSort;
    }
    
    // ç¡®å®šæ’åºæ–¹å‘
    SortOrder order = "desc".equalsIgnoreCase(sortOrder) ? SortOrder.DESC : SortOrder.ASC;
    
    // æ ¹æ®å­—æ®µåç¡®å®šæ’åºå­—æ®µ
    switch (sortField.toLowerCase()) {
        case "id":
            return SYS_COACH.ID.sort(order);
        case "age":
            return SYS_COACH.AGE.sort(order);
        case "experience":
            return SYS_COACH.EXPERIENCE.sort(order);
        case "hiredate":
        case "hire_date":
            return SYS_COACH.HIRE_DATE.sort(order);
        case "name":
            return SYS_COACH.NAME.sort(order);
        case "createdtime":
        case "created_time":
            return SYS_COACH.CREATED_TIME.sort(order);
        case "updatedtime":
        case "updated_time":
            return SYS_COACH.UPDATE_TIME.sort(order);
        default:
            return defaultSort;
    }
}
```

### 2. **æŸ¥è¯¢æ¥å£æ›´æ–°**
**æ–‡ä»¶**: `src/main/java/com/lesson/request/coach/CoachQueryRequest.java`

```java
/**
 * æ’åºå­—æ®µ
 */
@Schema(description = "æ’åºå­—æ®µï¼šid-æŒ‰IDæ’åºï¼Œage-æŒ‰å¹´é¾„æ’åºï¼Œexperience-æŒ‰æ•™é¾„æ’åºï¼Œhiredate-æŒ‰å…¥èŒæ—¥æœŸæ’åºï¼Œname-æŒ‰å§“åæ’åºï¼Œcreatedtime-æŒ‰åˆ›å»ºæ—¶é—´æ’åº", example = "id")
private String sortField;

/**
 * æ’åºæ–¹å¼
 */
@Schema(description = "æ’åºæ–¹å¼ï¼šasc-å‡åºï¼Œdesc-é™åº", example = "asc")
private String sortOrder;
```

### 3. **æŸ¥è¯¢é€»è¾‘æ›´æ–°**
åœ¨`listCoaches`æ–¹æ³•ä¸­é›†æˆäº†æ’åºåŠŸèƒ½ï¼š

```java
// æ„å»ºæ’åº
SortField<?> orderByField = buildSortField(sortField, sortOrder);

// æ‰§è¡ŒæŸ¥è¯¢
Result<?> records = query
        .orderBy(orderByField)
        .limit(size)
        .offset(offset)
        .fetch();
```

## ğŸš€ **ä½¿ç”¨ç¤ºä¾‹**

### 1. **APIè°ƒç”¨ç¤ºä¾‹**

#### æŒ‰IDå‡åºæ’åºï¼ˆé»˜è®¤ï¼‰
```bash
GET /api/coach/list?campusId=1&sortField=id&sortOrder=asc
```

#### æŒ‰å¹´é¾„é™åºæ’åº
```bash
GET /api/coach/list?campusId=1&sortField=age&sortOrder=desc
```

#### æŒ‰æ•™é¾„å‡åºæ’åº
```bash
GET /api/coach/list?campusId=1&sortField=experience&sortOrder=asc
```

#### æŒ‰å…¥èŒæ—¥æœŸé™åºæ’åº
```bash
GET /api/coach/list?campusId=1&sortField=hiredate&sortOrder=desc
```

### 2. **è¯·æ±‚å‚æ•°è¯´æ˜**

```json
{
  "campusId": 1,
  "page": 1,
  "size": 10,
  "sortField": "age",        // æ’åºå­—æ®µ
  "sortOrder": "desc",       // æ’åºæ–¹å‘
  "keyword": "å¼ æ•™ç»ƒ",       // å¯é€‰ï¼šæœç´¢å…³é”®è¯
  "status": "active",        // å¯é€‰ï¼šçŠ¶æ€è¿‡æ»¤
  "jobTitle": "é«˜çº§æ•™ç»ƒ"     // å¯é€‰ï¼šèŒä½è¿‡æ»¤
}
```

### 3. **å“åº”ç¤ºä¾‹**

```json
{
  "code": 200,
  "message": "success",
  "data": {
    "total": 25,
    "list": [
      {
        "id": 1,
        "name": "å¼ æ•™ç»ƒ",
        "age": 35,
        "experience": 8,
        "hiredate": "2020-01-15",
        "status": "active",
        "jobTitle": "é«˜çº§æ•™ç»ƒ",
        "phone": "13800138000",
        "gender": "MALE",
        "campusId": 1,
        "campusName": "æ€»æ ¡åŒº"
      }
    ]
  }
}
```

## ğŸ“Š **æ’åºè§„åˆ™**

### 1. **é»˜è®¤æ’åº**
- å½“æœªæŒ‡å®šæ’åºå­—æ®µæ—¶ï¼Œé»˜è®¤æŒ‰**IDå‡åº**æ’åº
- ç¡®ä¿ç»“æœçš„ä¸€è‡´æ€§å’Œå¯é¢„æµ‹æ€§

### 2. **å­—æ®µä¼˜å…ˆçº§**
- æ”¯æŒæ‰€æœ‰ä¸»è¦å­—æ®µçš„æ’åº
- å¹´é¾„ã€æ•™é¾„ç­‰æ•°å€¼å­—æ®µæ”¯æŒå‡åºå’Œé™åº
- æ—¥æœŸå­—æ®µæ”¯æŒæ—¶é—´é¡ºåºæ’åº
- æ–‡æœ¬å­—æ®µæŒ‰å­—å…¸åºæ’åº

### 3. **é”™è¯¯å¤„ç†**
- æ— æ•ˆçš„æ’åºå­—æ®µä¼šå›é€€åˆ°é»˜è®¤æ’åºï¼ˆIDå‡åºï¼‰
- æ— æ•ˆçš„æ’åºæ–¹å‘é»˜è®¤ä¸ºå‡åº
- å¤§å°å†™ä¸æ•æ„Ÿï¼Œæ”¯æŒå¤šç§å­—æ®µåæ ¼å¼

## âœ… **éªŒè¯ç»“æœ**

### ç¼–è¯‘çŠ¶æ€
- âœ… é¡¹ç›®ç¼–è¯‘æˆåŠŸ
- âœ… æ— ç¼–è¯‘é”™è¯¯
- âœ… æ— è­¦å‘Šä¿¡æ¯

### åŠŸèƒ½éªŒè¯
- âœ… æ’åºé€»è¾‘æ­£ç¡®å®ç°
- âœ… æ”¯æŒæ‰€æœ‰è¦æ±‚çš„æ’åºå­—æ®µ
- âœ… é»˜è®¤æ’åºä¸ºIDå‡åº
- âœ… é”™è¯¯å¤„ç†å®Œå–„
- âœ… APIæ–‡æ¡£å·²æ›´æ–°

## ğŸ”„ **æ”¯æŒçš„æ’åºç»„åˆ**

### å¸¸ç”¨æ’åºåœºæ™¯
1. **æŒ‰IDå‡åº**: `sortField=id&sortOrder=asc` (é»˜è®¤)
2. **æŒ‰å¹´é¾„é™åº**: `sortField=age&sortOrder=desc`
3. **æŒ‰æ•™é¾„å‡åº**: `sortField=experience&sortOrder=asc`
4. **æŒ‰å…¥èŒæ—¥æœŸé™åº**: `sortField=hiredate&sortOrder=desc`
5. **æŒ‰å§“åå‡åº**: `sortField=name&sortOrder=asc`
6. **æŒ‰åˆ›å»ºæ—¶é—´é™åº**: `sortField=createdtime&sortOrder=desc`

## ğŸ“‹ **æ³¨æ„äº‹é¡¹**

1. **å­—æ®µåæ ¼å¼**: æ”¯æŒå¤šç§å­—æ®µåæ ¼å¼ï¼ˆå¦‚`hiredate`å’Œ`hire_date`ï¼‰
2. **å¤§å°å†™**: æ’åºå­—æ®µåå¤§å°å†™ä¸æ•æ„Ÿ
3. **é»˜è®¤å€¼**: æœªæŒ‡å®šæ’åºæ—¶ä½¿ç”¨IDå‡åº
4. **æ€§èƒ½**: æ‰€æœ‰æ’åºå­—æ®µéƒ½æœ‰å¯¹åº”çš„æ•°æ®åº“ç´¢å¼•
5. **å…¼å®¹æ€§**: å‘åå…¼å®¹ï¼Œä¸å½±å“ç°æœ‰åŠŸèƒ½

## ğŸ¯ **æ€»ç»“**

æ•™ç»ƒåˆ—è¡¨æ’åºåŠŸèƒ½å·²å®Œå…¨å®ç°ï¼Œæ”¯æŒï¼š
- âœ… **IDæ’åº**ï¼ˆå‡åº/é™åºï¼‰
- âœ… **å¹´é¾„æ’åº**ï¼ˆå‡åº/é™åºï¼‰
- âœ… **æ•™é¾„æ’åº**ï¼ˆå‡åº/é™åºï¼‰
- âœ… **å…¥èŒæ—¥æœŸæ’åº**ï¼ˆå‡åº/é™åºï¼‰
- âœ… **å§“åæ’åº**ï¼ˆå‡åº/é™åºï¼‰
- âœ… **åˆ›å»ºæ—¶é—´æ’åº**ï¼ˆå‡åº/é™åºï¼‰
- âœ… **æ›´æ–°æ—¶é—´æ’åº**ï¼ˆå‡åº/é™åºï¼‰

ç°åœ¨æ‚¨å¯ä»¥é€šè¿‡APIå‚æ•°çµæ´»åœ°æ§åˆ¶æ•™ç»ƒåˆ—è¡¨çš„æ’åºæ–¹å¼ï¼Œæ»¡è¶³ä¸åŒçš„ä¸šåŠ¡éœ€æ±‚ï¼

---

**å®ç°æ—¶é—´**: 2024å¹´12æœˆ  
**å®ç°äººå‘˜**: å¼€å‘å›¢é˜Ÿ  
**çŠ¶æ€**: âœ… å®Œæˆ 